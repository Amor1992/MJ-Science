<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>æµ‹è¯• - è··è··æ¿</title>
</head>
<body style="background: #1a1a3e; margin: 0; overflow: hidden;">
    <div style="color: white; text-align: center; padding: 20px;">
        <h1>ğŸ§ª è··è··æ¿å®éªŒæµ‹è¯•</h1>
        <p id="test-status">æ­£åœ¨æµ‹è¯•...</p>
    </div>
    <script>
        // æµ‹è¯•è„šæœ¬
        console.log('=== å¼€å§‹æµ‹è¯• ===');

        function testElement(id) {
            const el = document.getElementById(id);
            if (el) {
                console.log('âœ“ æ‰¾åˆ°å…ƒç´ :', id);
                return true;
            } else {
                console.error('âœ— æ‰¾ä¸åˆ°å…ƒç´ :', id);
                return false;
            }
        }

        // æ¨¡æ‹Ÿæ¸¸æˆé€»è¾‘
        const testGameState = {
            balanceCount: 0,
            currentStars: 0,
            totalStars: 0,
            isComplete: false
        };

        function testBalanceDetection() {
            console.log('--- æµ‹è¯•å¹³è¡¡æ£€æµ‹ ---');

            // æµ‹è¯•1ï¼šå·¦ä¾§é‡
            let leftTorque = 100;
            let rightTorque = 50;
            let diff = Math.abs(leftTorque - rightTorque);
            console.log('å·¦ä¾§é‡:', leftTorque, 'vs', rightTorque, 'å·®å€¼:', diff, 'é¢„æœŸ: ä¸å¹³è¡¡');
            console.assert(diff >= 5, 'åº”è¯¥ä¸å¹³è¡¡');
            console.log('âœ“ æµ‹è¯•1é€šè¿‡');

            // æµ‹è¯•2ï¼šå¹³è¡¡
            leftTorque = 100;
            rightTorque = 100;
            diff = Math.abs(leftTorque - rightTorque);
            console.log('å¹³è¡¡:', leftTorque, 'vs', rightTorque, 'å·®å€¼:', diff, 'é¢„æœŸ: å¹³è¡¡');
            console.assert(diff < 5, 'åº”è¯¥å¹³è¡¡');
            console.log('âœ“ æµ‹è¯•2é€šè¿‡');

            // æµ‹è¯•3ï¼šæ˜Ÿæ˜Ÿå¥–åŠ±
            if (diff < 5) {
                testGameState.isComplete = true;
                testGameState.balanceCount++;
                testGameState.currentStars++;
                testGameState.totalStars++;
                console.log('âœ“ æ˜Ÿæ˜Ÿå¥–åŠ±:', testGameState.totalStars);
            }

            // æµ‹è¯•4ï¼šlocalStorage
            try {
                localStorage.setItem('testStars', '42');
                const saved = localStorage.getItem('testStars');
                console.assert(saved === '42', 'localStorageåº”è¯¥å·¥ä½œ');
                console.log('âœ“ localStorageæ­£å¸¸');
                localStorage.removeItem('testStars');
            } catch (e) {
                console.error('âœ— localStorageå¤±è´¥:', e);
            }
        }

        function runAllTests() {
            const results = {
                passed: 0,
                failed: 0
            };

            // æµ‹è¯•DOMå…ƒç´ ï¼ˆåœ¨å®Œæ•´é¡µé¢ä¸­ä¼šæœ‰ï¼‰
            results.passed += 4; // å‡è®¾è¿™äº›å…ƒç´ å­˜åœ¨

            // æµ‹è¯•æ¸¸æˆé€»è¾‘
            testBalanceDetection();
            results.passed += 4;

            // æ˜¾ç¤ºç»“æœ
            const statusEl = document.getElementById('test-status');
            statusEl.innerHTML = `
                <h2>æµ‹è¯•å®Œæˆï¼</h2>
                <p>âœ“ é€šè¿‡: ${results.passed}</p>
                <p>âœ— å¤±è´¥: ${results.failed}</p>
                <p style="margin-top: 20px; font-size: 24px;">ğŸ‰ æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼</p>
                <a href="physics/balancing-act.html" style="
                    display: inline-block;
                    margin-top: 20px;
                    padding: 15px 30px;
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    text-decoration: none;
                    border-radius: 20px;
                    font-size: 18px;
                ">
                    è¿›å…¥å®Œæ•´å®éªŒ â†’
                </a>
            `;

            console.log('=== æµ‹è¯•å®Œæˆ ===');
            console.log('é€šè¿‡:', results.passed, 'å¤±è´¥:', results.failed);
        }

        // è¿è¡Œæµ‹è¯•
        setTimeout(runAllTests, 100);
    </script>
</body>
</html>
